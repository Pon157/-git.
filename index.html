<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –í–∞—à–∏ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0;
            min-height: 100vh;
        }
        
        .container {
            max-width: 100%;
            padding: 15px;
        }
        
        .screen {
            display: none;
        }
        
        .active {
            display: block;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.15);
            color: white;
            font-size: 16px;
        }
        
        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 8px;
        }
        
        .btn-primary {
            background: #4CAF50;
        }
        
        .nav-btn {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div id="adminRegisterScreen" class="screen">
        <button class="nav-btn" onclick="showScreen('authScreen')">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="header">
            <h1>üë®‚Äçüíº –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
            <p>üé´ –ö–æ–¥—ã: ADMIN2024, SUPPORT001, HELPDESK99, MODERATOR55</p>
        </div>
        
        <div class="form-group">
            <label>üîë –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥:</label>
            <input type="text" class="form-input" id="inviteCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –∫–æ–¥–æ–≤ –≤—ã—à–µ">
        </div>
        
        <div class="form-group">
            <label>üë§ –ù–∏–∫–Ω–µ–π–º:</label>
            <input type="text" class="form-input" id="adminUsername" placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º">
        </div>
        
        <div class="form-group">
            <label>üîê –ü–∞—Ä–æ–ª—å:</label>
            <input type="password" class="form-input" id="adminPassword" placeholder="–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å">
        </div>
        
        <div class="form-group">
            <label>üéØ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:</label>
            <input type="text" class="form-input" id="specialty" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞">
        </div>
        
        <button class="btn btn-primary" onclick="registerAdmin()">
            üëë –°—Ç–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
        </button>
    </div>
</body>

<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
    let tg = window.Telegram.WebApp;
    tg.expand();
    tg.ready();
    
    let currentUser = null;
    let isAdmin = false;
    
    // üé´ –ü–†–ê–í–ò–õ–¨–ù–´–ï –ö–û–î–´ –î–õ–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–í
    const VALID_ADMIN_CODES = [
        "ADMIN2024",
        "SUPPORT001", 
        "HELPDESK99",
        "MODERATOR55"
    ];
    
    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–∫—Ä–∞–Ω–∞–º–∏
    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(screen => {
            screen.classList.remove('active');
        });
        document.getElementById(screenId).classList.add('active');
    }
    
    // ‚ö° –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê
    function registerAdmin() {
        const code = document.getElementById('inviteCode').value.trim().toUpperCase();
        const username = document.getElementById('adminUsername').value.trim();
        const password = document.getElementById('adminPassword').value.trim();
        const specialty = document.getElementById('specialty').value.trim();
        
        if (!code || !username || !password || !specialty) {
            tg.showAlert('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
            return;
        }
        
        // –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ö–û–î–ê
        if (!VALID_ADMIN_CODES.includes(code)) {
            tg.showAlert('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: ADMIN2024, SUPPORT001, HELPDESK99 –∏–ª–∏ MODERATOR55');
            return;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        if (!localStorage.getItem('users')) {
            localStorage.setItem('users', JSON.stringify([]));
        }
        if (!localStorage.getItem('admins')) {
            localStorage.setItem('admins', JSON.stringify([]));
        }
        
        const users = JSON.parse(localStorage.getItem('users')) || [];
        const admins = JSON.parse(localStorage.getItem('admins')) || [];
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –Ω–∏–∫–Ω–µ–π–º
        if (users.find(u => u.username === username)) {
            tg.showAlert('‚ùå –≠—Ç–æ—Ç –Ω–∏–∫–Ω–µ–π–º —É–∂–µ –∑–∞–Ω—è—Ç!');
            return;
        }
        
        // –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        users.push({
            username: username,
            password: password,
            role: 'admin',
            isOnline: true,
            registeredAt: new Date().toISOString()
        });
        
        // –°–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        admins.push({
            username: username,
            specialty: specialty,
            isAvailable: true,
            rating: 5.0,
            joinedAt: new Date().toISOString()
        });
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
        localStorage.setItem('users', JSON.stringify(users));
        localStorage.setItem('admins', JSON.stringify(admins));
        
        currentUser = { 
            username: username, 
            password: password, 
            role: 'admin' 
        };
        isAdmin = true;
        
        tg.showAlert('üéâ –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä!');
        
        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
        showMainScreen();
    }
    
    // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
    function showMainScreen() {
        // –í–∞—à –∫–æ–¥ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        tg.showAlert('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É!');
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–ª—è —Ç–µ—Å—Ç–∞
    showScreen('adminRegisterScreen');
    tg.showAlert('üí¨ –î–ª—è —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥: ADMIN2024');
</script>
</html>
